ascii_art='
________                  __        ___.
\_____  \   _____ _____  |  | ____ _\_ |__
 /   |   \ /     \\__   \ |  |/ /  |  \ __ \
/    |    \  Y Y  \/ __ \|    <|  |  / \_\ \
\_______  /__|_|  (____  /__|_ \____/|___  /
        \/      \/     \/     \/         \/
'

# Halt on errors
set -e

echo -e "$ascii_art"
echo "=> Omakub is for fresh Ubuntu 24.04 installations only!"

read -p "Begin install? [Y/n]" yn
if [[ "$yn" =~ ^[Yy]$ || -z "$yn" ]]; then
  echo "Installing git..."
  sudo apt-get update > /dev/null 2>&1
  sudo apt-get install -y git > /dev/null 2>&1

  echo "Cloning Omakub..."
  git clone https://github.com/basecamp/omakub.git ~/.local/share/omakub > /dev/null

  echo "Installation starting..."
  source ~/.local/share/omakub/install.sh
fi
